<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Ø£ÙŠ Ø´Ø®ØµÙŠØ© Ù…Ù† Game of Thrones Ø£Ù†ØªØŸ</title>
<style>
  :root { --bg:#0d1117; --card:#161b22; --text:#e6edf3; --accent:#2ea043; --muted:#8b949e; }
  body{margin:0;font-family:Tahoma,Arial,system-ui,sans-serif;background:var(--bg);color:var(--text);padding:16px}
  .wrap{max-width:860px;margin:0 auto}
  h1{font-size:22px;margin:0 0 12px}
  .sub{color:var(--muted);margin-bottom:18px}
  .question{background:var(--card);border-radius:14px;padding:14px;margin:10px 0}
  .qtitle{font-weight:bold;margin:0 0 8px}
  label{display:block;line-height:1.6;padding:6px 10px;border-radius:10px;cursor:pointer}
  label:hover{background:#1f2530}
  input[type="radio"]{accent-color:var(--accent);margin-left:8px;margin-right:4px;transform:scale(1.15)}
  .btn{display:inline-block;background:var(--accent);color:#fff;border:none;border-radius:12px;padding:12px 16px;font-size:16px;cursor:pointer;margin-top:10px}
  .btn:disabled{opacity:.6;cursor:not-allowed}
  .result{background:var(--card);border-radius:16px;padding:18px;margin-top:16px;text-align:center}
  .hero{width:160px;height:160px;border-radius:18px;display:block;margin:0 auto 10px;box-shadow:0 8px 30px rgba(0,0,0,.35)}
  .chips{display:flex;flex-wrap:wrap;gap:8px;justify-content:center;margin-top:8px}
  .chip{background:#212734;color:var(--muted);padding:6px 10px;border-radius:12px;font-size:12px}
  .footer{color:var(--muted);font-size:12px;margin-top:12px;text-align:center}
  .progress{height:6px;background:#232a36;border-radius:8px;overflow:hidden;margin:6px 0 10px}
  .bar{height:100%;width:0;background:var(--accent);transition:width .25s linear}
  .share{display:flex;gap:8px;justify-content:center;margin-top:10px}
  .sbtn{background:#30363d;border:1px solid #3d444d;color:#fff;border-radius:10px;padding:10px 12px;font-size:14px}
</style>
</head>
<body>
<div class="wrap">
  <h1>Ø£ÙŠ Ø´Ø®ØµÙŠØ© Ù…Ù† <span style="white-space:nowrap">Game of Thrones</span> Ø£Ù†ØªØŸ</h1>
  <div class="sub">Ø§Ø®ØªØ¨Ø§Ø± Ù…Ù…ØªØ¹ Ù…Ù† 10 Ø£Ø³Ø¦Ù„Ø©. Ø§Ø®ØªØ± Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„Ø£Ù‚Ø±Ø¨ Ù„Ùƒ ÙˆØ´ÙˆÙ Ù†ØªÙŠØ¬ØªÙƒ Ù…Ø¹ ØµÙˆØ±Ø© ÙˆÙˆØµÙ âœ¨</div>
  <div class="progress"><div class="bar" id="bar"></div></div>
  <form id="quiz"></form>
  <button class="btn" id="submitBtn" type="button">Ø£Ø¸Ù‡Ø± Ø§Ù„Ù†ØªÙŠØ¬Ø©</button>
  <div id="result" class="result" style="display:none"></div>
  <div class="footer">ØªÙ„Ù…ÙŠØ­: ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø³ØªØ¨Ø¯Ø§Ù„ ØµÙˆØ±Ø© Ø£ÙŠ Ø´Ø®ØµÙŠØ© Ø¨Ø±Ø§Ø¨Ø· Ø®Ø§Ø±Ø¬ÙŠ Ø¹Ø¨Ø± ÙƒØ§Ø¦Ù† <code>images</code> Ø¯Ø§Ø®Ù„ Ø§Ù„ÙƒÙˆØ¯.</div>
</div>

<script>
/* ========= 1) ØªØ¹Ø±ÙŠÙ Ø§Ù„Ø´Ø®ØµÙŠØ§Øª + ÙˆØµÙ Ù…Ø®ØªØµØ± ========= */
const characters = {
  "Ø¬ÙˆÙ† Ø³Ù†Ùˆ": "Ø´Ø¬Ø§Ø¹ØŒ ÙˆÙÙŠÙ‘ØŒ Ù‚Ø§Ø¦Ø¯ Ù‡Ø§Ø¯Ø¦ ÙŠØ¶Ø¹ Ù…ØµÙ„Ø­Ø© Ø§Ù„Ø¬Ù…ÙŠØ¹ Ù‚Ø¨Ù„ Ù†ÙØ³Ù‡.",
  "Ø¯ÙŠÙ†ÙŠØ±ÙŠØ³ ØªØ§Ø±Ø¬Ø§Ø±ÙŠÙ†": "Ø·Ù…ÙˆØ­Ø© ÙˆÙƒØ§Ø±ÙŠØ²Ù…ÙŠØ©ØŒ ØªØ¤Ù…Ù† Ø¨Ø§Ù„Ø¹Ø¯Ø§Ù„Ø© ÙˆÙƒØ³Ø± Ø§Ù„Ù‚ÙŠÙˆØ¯.",
  "ØªÙŠØ±ÙŠÙˆÙ† Ù„Ø§Ù†ÙŠØ³ØªØ±": "Ø°ÙƒÙŠ ÙˆÙ„Ø³Ø§Ù†Ù‡ Ø­Ø§Ø¯ØŒ ÙŠØ¹ØªÙ…Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ø¯Ù‡Ø§Ø¡ Ø¨Ø¯Ù„ Ø§Ù„Ù‚ÙˆØ©.",
  "Ø³ÙŠØ±Ø³ÙŠ Ù„Ø§Ù†ÙŠØ³ØªØ±": "Ø­Ø§Ø²Ù…Ø© ÙˆÙ„Ø§ ØªØ±Ø­Ù…ØŒ Ø§Ù„Ø¹Ø§Ø¦Ù„Ø© ÙˆØ§Ù„Ø¹Ø±Ø´ ÙÙˆÙ‚ ÙƒÙ„ Ø´ÙŠØ¡.",
  "Ø¬ÙŠÙ…ÙŠ Ù„Ø§Ù†ÙŠØ³ØªØ±": "ÙØ§Ø±Ø³ Ù…Ø§Ù‡Ø±ØŒ ÙŠÙ…Ø²Ø¬ Ø§Ù„ÙˆÙ„Ø§Ø¡ Ø¨ØµØ±Ø§Ø¹ Ø¯Ø§Ø®Ù„ÙŠ Ø¨ÙŠÙ† Ø§Ù„Ø´Ø±Ù ÙˆØ§Ù„Ø­Ø¨.",
  "Ø¢Ø±ÙŠØ§ Ø³ØªØ§Ø±Ùƒ": "Ù…Ø³ØªÙ‚Ù„Ø© Ù„Ø§ ØªØ®Ø§ÙØŒ ØªØªØ¹Ù„Ù… Ø¨Ø³Ø±Ø¹Ø© ÙˆØªØ¹Ø±Ù ÙƒÙŠÙ ØªÙ†Ø¬Ùˆ.",
  "Ø³Ø§Ù†Ø³Ø§ Ø³ØªØ§Ø±Ùƒ": "Ø¯Ø¨Ù„ÙˆÙ…Ø§Ø³ÙŠØ©ØŒ ØªØªÙ‚Ù† Ø§Ù„Ù„Ø¹Ø¨Ø© Ø§Ù„Ø³ÙŠØ§Ø³ÙŠØ© Ù…Ø¹ ØµØ¨Ø± ÙˆØ­ÙƒÙ…Ø©.",
  "Ø¨Ø±Ø§Ù† Ø³ØªØ§Ø±Ùƒ": "Ù‡Ø§Ø¯Ø¦ ÙˆØ¨ØµÙŠØ±ØŒ ÙŠÙ†Ø¸Ø± Ù„Ù„Ø£Ù…ÙˆØ± Ù…Ù† Ù…Ù†Ø¸ÙˆØ± Ø£ÙˆØ³Ø¹ Ù…Ù† Ø§Ù„Ø¬Ù…ÙŠØ¹.",
  "Ù†ÙŠØ¯ Ø³ØªØ§Ø±Ùƒ": "Ø´Ù‡Ù… ÙˆØ´Ø±ÙŠÙØŒ ÙŠÙ„ØªØ²Ù… Ø¨Ø§Ù„Ù…Ø¨Ø§Ø¯Ø¦ Ù…Ù‡Ù…Ø§ ÙƒØ§Ù† Ø§Ù„Ø«Ù…Ù†.",
  "Ø³Ø§Ù…ÙˆÙŠÙ„ ØªØ§Ø±Ù„ÙŠ": "Ù‚Ù„Ø¨Ù‡ Ø·ÙŠØ¨ ÙˆÙ…Ø«Ø§Ø¨Ø±ØŒ Ø§Ù„Ù…Ø¹Ø±ÙØ© Ø³Ù„Ø§Ø­Ù‡ Ø§Ù„Ø£Ù‚ÙˆÙ‰.",
  "Ø³Ø§Ù†Ø¯ÙˆØ± ÙƒÙ„ÙŠØ¬Ø§Ù† (Ø§Ù„ÙƒÙ„Ø¨)": "ØµØ§Ø±Ù… ÙˆØ®Ø´Ù† Ù„ÙƒÙ†Ù‡ ÙŠÙ…Ù„Ùƒ Ø­Ø³ Ø¹Ø¯Ø§Ù„Ø© Ø®Ø§Øµ.",
  "Ø¬ÙˆØ±Ø§ Ù…ÙˆØ±Ù…ÙˆÙ†Øª": "Ù…Ø®Ù„Øµ Ù„Ù„ØºØ§ÙŠØ©ØŒ Ø´Ø¬Ø§Ø¹ ÙˆÙŠØ¶Ø¹ Ù…Ù† ÙŠØ­Ø¨Ù‡Ù… Ø£ÙˆÙ„Ù‹Ø§.",
  "Ø±Ø§Ù…Ø²ÙŠ Ø¨ÙˆÙ„ØªÙˆÙ†": "Ù‚Ø§Ø³Ù ÙˆØ³Ø§Ø¯ÙŠØŒ ÙŠØ³ØªÙ…ØªØ¹ Ø¨Ø§Ù„ØªÙ„Ø§Ø¹Ø¨ ÙˆØ§Ù„Ø®Ø¯Ø§Ø¹.",
  "ØªØ§ÙŠÙˆÙ† Ù„Ø§Ù†ÙŠØ³ØªØ±": "Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠ Ø¨Ø§Ø±Ø¯ Ø§Ù„Ø£Ø¹ØµØ§Ø¨ØŒ Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ© Ù„Ù„Ù‚ÙˆØ© ÙˆØ§Ù„Ù†ÙÙˆØ°.",
  "Ø±ÙˆØ¨ÙŠØ±Øª Ø¨Ø±Ø§Ø«ÙŠÙˆÙ†": "Ø¹ÙÙˆÙŠ ÙˆØµØ§Ø®Ø¨ØŒ Ù…Ø­Ø§Ø±Ø¨ Ù…Ù…ØªØ§Ø² Ù„ÙƒÙ†Ù‡ ÙŠÙ…Ù„ Ø§Ù„Ø³ÙŠØ§Ø³Ø©."
};

/* ========= 2) ØµÙˆØ± Ù…Ø¶Ù…ÙˆÙ†Ø©: Ø£ÙØ§ØªØ§Ø±Ø§Øª SVG ØªÙÙˆÙ„Ù‘ÙØ¯ Ù…Ø­Ù„ÙŠÙ‹Ø§ =========
   ÙŠÙ…ÙƒÙ†Ùƒ ÙˆØ¶Ø¹ Ø±ÙˆØ§Ø¨Ø· Ø­Ù‚ÙŠÙ‚ÙŠØ© Ù„Ø£ÙŠ Ø´Ø®ØµÙŠØ© Ù‡Ù†Ø§ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ).
   Ù…Ø«Ø§Ù„: images["Ø¬ÙˆÙ† Ø³Ù†Ùˆ"] = "https://.../jon.jpg"  */
const images = {
  // "Ø¬ÙˆÙ† Ø³Ù†Ùˆ": "https://your-cdn.com/jon.jpg"
};

/* Ù…ÙˆÙ„Ù‘Ø¯ Ø£ÙØ§ØªØ§Ø± SVG (Ø®Ù„ÙÙŠØ© Ù…ØªØ¯Ø±Ø¬Ø© + Ø­Ø±ÙˆÙ Ø§Ù„Ø§Ø³Ù…) */
function avatarDataURI(name){
  const initials = name.split(/\s+/).map(w=>w[0]).join('').slice(0,3);
  // ØªÙˆÙ„ÙŠØ¯ Ù„ÙˆÙ†ÙŠÙ† Ø«Ø§Ø¨ØªÙŠÙ† Ù…Ù† Ø§Ù„Ø§Ø³Ù…
  let h = 0;
  for (let i=0;i<name.length;i++) h = (h*33 + name.charCodeAt(i)) % 360;
  const h2 = (h+40)%360;
  const svg =
`<svg xmlns='http://www.w3.org/2000/svg' width='320' height='320'>
  <defs>
    <linearGradient id='g' x1='0' x2='1' y1='0' y2='1'>
      <stop offset='0%' stop-color='hsl(${h},60%,35%)'/>
      <stop offset='100%' stop-color='hsl(${h2},70%,30%)'/>
    </linearGradient>
  </defs>
  <rect width='100%' height='100%' fill='url(#g)'/>
  <text x='50%' y='55%' font-family='Tahoma,Arial' font-size='110' fill='white' text-anchor='middle' dominant-baseline='middle' style='paint-order:stroke; stroke:black; stroke-width:6;'>
    ${initials}
  </text>
</svg>`;
  return "data:image/svg+xml;utf8," + encodeURIComponent(svg);
}

/* ========= 3) Ø§Ù„Ø£Ø³Ø¦Ù„Ø© (10 Ø£Ø³Ø¦Ù„Ø©) ========= */
const questions = [
  { q:"ÙÙŠ Ù„Ø­Ø¸Ø© Ù‚Ø±Ø§Ø± Ù…ØµÙŠØ±ÙŠØ©ØŒ Ø´Ùˆ ÙŠØºÙ„Ø¨ØŸ",
    map:{ "Ø¬ÙˆÙ† Ø³Ù†Ùˆ":"Ø§Ù„Ø´Ø±Ù ÙˆØ§Ù„ØµØ¯Ù‚", "Ø³ÙŠØ±Ø³ÙŠ Ù„Ø§Ù†ÙŠØ³ØªØ±":"Ø§Ù„Ù…ØµÙ„Ø­Ø© Ù„Ù„Ø¹Ø§Ø¦Ù„Ø©",
          "ØªÙŠØ±ÙŠÙˆÙ† Ù„Ø§Ù†ÙŠØ³ØªØ±":"Ø§Ù„Ù…Ù†Ø·Ù‚ ÙˆØ§Ù„Ø­ÙŠÙ„Ø©", "Ø¯ÙŠÙ†ÙŠØ±ÙŠØ³ ØªØ§Ø±Ø¬Ø§Ø±ÙŠÙ†":"Ø§Ù„Ø¹Ø¯Ø§Ù„Ø© Ø­ØªÙ‰ Ù„Ùˆ Ø¨Ø§Ù„Ù‚ÙˆØ©" } },
  { q:"Ù„Ùˆ ÙÙ‚Ø¯Øª Ø§Ù„Ø¯Ø¹Ù… Ù…Ù† Ø£Ù‚Ø±Ø¨ Ø§Ù„Ù†Ø§Ø³ØŒ Ø¨ØªØ¹Ù…Ù„ØŸ",
    map:{ "Ø¢Ø±ÙŠØ§ Ø³ØªØ§Ø±Ùƒ":"Ø£Ø´Ø¯Ù‘ Ø­Ø§Ù„ÙŠ ÙˆØ£ÙƒÙ…Ù„ ÙˆØ­Ø¯ÙŠ", "Ø³Ø§Ù†Ø³Ø§ Ø³ØªØ§Ø±Ùƒ":"Ø£Ø¨Ù†ÙŠ ØªØ­Ø§Ù„ÙØ§Øª Ø°ÙƒÙŠØ©",
          "Ø¬ÙˆØ±Ø§ Ù…ÙˆØ±Ù…ÙˆÙ†Øª":"Ø£Ø¸Ù„ ÙˆÙÙŠÙ‘ Ø¹Ù„Ù‰ Ø£ÙŠ Ø­Ø§Ù„", "Ø±Ø§Ù…Ø²ÙŠ Ø¨ÙˆÙ„ØªÙˆÙ†":"Ø£Ø³ØªØºÙ„ Ø§Ù„Ø¶Ø¹Ù Ù„ØµØ§Ù„Ø­Ù€ÙŠ" } },
  { q:"Ø£Ø³Ù„ÙˆØ¨Ùƒ Ø¨Ø§Ù„Ù‚ÙŠØ§Ø¯Ø©ØŸ",
    map:{ "Ø¬ÙˆÙ† Ø³Ù†Ùˆ":"Ù‚Ø¯ÙˆØ© Ù‚Ø¨Ù„ Ø§Ù„Ø£ÙˆØ§Ù…Ø±", "ØªØ§ÙŠÙˆÙ† Ù„Ø§Ù†ÙŠØ³ØªØ±":"Ø­Ø²Ù… ÙˆØ§Ù†Ø¶Ø¨Ø§Ø·",
          "Ø¯ÙŠÙ†ÙŠØ±ÙŠØ³ ØªØ§Ø±Ø¬Ø§Ø±ÙŠÙ†":"Ø¥Ù„Ù‡Ø§Ù… ÙˆÙƒØ§Ø±ÙŠØ²Ù…Ø§", "Ø±ÙˆØ¨ÙŠØ±Øª Ø¨Ø±Ø§Ø«ÙŠÙˆÙ†":"Ø­Ù…Ø§Ø³Ø© ÙˆØ¹ÙÙˆÙŠØ©" } },
  { q:"Ø£ÙØ¶Ù„ Ø³Ù„Ø§Ø­ Ø¨Ø§Ù„Ù†Ø³Ø¨Ø© Ù„ÙƒØŸ",
    map:{ "Ø¬ÙŠÙ…ÙŠ Ù„Ø§Ù†ÙŠØ³ØªØ±":"Ø§Ù„Ø³ÙŠÙ", "Ø¢Ø±ÙŠØ§ Ø³ØªØ§Ø±Ùƒ":"Ø§Ù„Ø®ÙØ© ÙˆØ§Ù„ØªØ¯Ø±ÙŠØ¨",
          "ØªÙŠØ±ÙŠÙˆÙ† Ù„Ø§Ù†ÙŠØ³ØªØ±":"Ø§Ù„ÙƒÙ„Ù…Ø§Øª ÙˆØ§Ù„Ø¹Ù‚Ù„", "Ø³Ø§Ù†Ø¯ÙˆØ± ÙƒÙ„ÙŠØ¬Ø§Ù† (Ø§Ù„ÙƒÙ„Ø¨)":"Ø§Ù„Ù‚ÙˆØ© Ø§Ù„Ù…Ø¨Ø§Ø´Ø±Ø©" } },
  { q:"ÙƒÙŠÙ ØªØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø§Ù„Ø¸Ù„Ù…ØŸ",
    map:{ "Ø¯ÙŠÙ†ÙŠØ±ÙŠØ³ ØªØ§Ø±Ø¬Ø§Ø±ÙŠÙ†":"Ø£ÙƒØ³Ø±Ù‡ ÙˆÙ„Ùˆ Ø§Ø­ØªØ±Ù‚ Ø§Ù„Ø·Ø±ÙŠÙ‚", "Ø¨Ø±Ø§Ù† Ø³ØªØ§Ø±Ùƒ":"Ø£ÙÙ‡Ù… Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø£ÙƒØ¨Ø±",
          "Ù†ÙŠØ¯ Ø³ØªØ§Ø±Ùƒ":"Ø£ÙˆØ§Ø¬Ù‡Ù‡ Ø¨Ø§Ù„Ù‚Ø§Ù†ÙˆÙ† ÙˆØ§Ù„Ø´Ø±Ù", "Ø³ÙŠØ±Ø³ÙŠ Ù„Ø§Ù†ÙŠØ³ØªØ±":"Ø£Ù†ØªÙ‚Ù… Ø£Ø¶Ø¹Ø§ÙÙ‹Ø§" } },
  { q:"Ù„Ù…Ø§ ØªØ®Ø·Ø· Ù„Ù…Ø¹Ø±ÙƒØ©/Ù…ÙˆØ§Ø¬Ù‡Ø©:",
    map:{ "ØªØ§ÙŠÙˆÙ† Ù„Ø§Ù†ÙŠØ³ØªØ±":"Ø®Ø·Ø© Ø·ÙˆÙŠÙ„Ø© Ø§Ù„Ù…Ø¯Ù‰", "Ø¬ÙˆÙ† Ø³Ù†Ùˆ":"Ø£Ø®Ø° Ø±Ø£ÙŠ Ù…Ù† Ø£Ø«Ù‚ ÙÙŠÙ‡Ù…",
          "Ø±Ø§Ù…Ø²ÙŠ Ø¨ÙˆÙ„ØªÙˆÙ†":"Ø®Ø¯Ø§Ø¹ Ù†ÙØ³ÙŠ Ù‚Ø°Ø±", "ØªÙŠØ±ÙŠÙˆÙ† Ù„Ø§Ù†ÙŠØ³ØªØ±":"Ø§Ø¨ØªÙƒØ§Ø± Ø­Ù„ÙˆÙ„ ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹Ø©" } },
  { q:"Ø§Ù„Ø¯Ø§ÙØ¹ Ø§Ù„Ø£Ù‚ÙˆÙ‰ Ù„Ø´Ø®ØµÙŠØªÙƒ:",
    map:{ "Ø¬ÙˆØ±Ø§ Ù…ÙˆØ±Ù…ÙˆÙ†Øª":"Ø§Ù„ÙˆÙ„Ø§Ø¡", "Ø³Ø§Ù†Ø³Ø§ Ø³ØªØ§Ø±Ùƒ":"Ø§Ù„ÙƒØ±Ø§Ù…Ø© ÙˆØ§Ù„Ù…ÙƒØ§Ù†Ø©",
          "Ø³Ø§Ù…ÙˆÙŠÙ„ ØªØ§Ø±Ù„ÙŠ":"Ø§Ù„Ù…Ø¹Ø±ÙØ© ÙˆØ§Ù„Ø­Ù‚ÙŠÙ‚Ø©", "Ø±ÙˆØ¨ÙŠØ±Øª Ø¨Ø±Ø§Ø«ÙŠÙˆÙ†":"Ø§Ù„Ù…ØªØ¹Ø© ÙˆØ§Ù„Ù„Ø­Ø¸Ø©" } },
  { q:"ÙˆØ¶Ø¹Ùƒ Ù…Ø¹ Ø§Ù„Ø³ÙŠØ§Ø³Ø©ØŸ",
    map:{ "ØªÙŠØ±ÙŠÙˆÙ† Ù„Ø§Ù†ÙŠØ³ØªØ±":"Ø£Ø­Ø¨Ù‡Ø§ ÙˆØ£Ø¬ÙŠØ¯Ù‡Ø§", "Ø³Ø§Ù†Ø³Ø§ Ø³ØªØ§Ø±Ùƒ":"Ø£ØªÙ‚Ù†Ù‡Ø§ Ø¨ØµÙ…Øª",
          "Ø¬ÙˆÙ† Ø³Ù†Ùˆ":"Ø£ØªØ¬Ù†Ø¨Ù‡Ø§ Ù‚Ø¯Ø± Ø§Ù„Ø¥Ù…ÙƒØ§Ù†", "Ø³ÙŠØ±Ø³ÙŠ Ù„Ø§Ù†ÙŠØ³ØªØ±":"Ù‡ÙŠ Ù…Ù„Ø¹Ø¨Ù€ÙŠ Ø§Ù„Ù…ÙØ¶Ù„" } },
  { q:"Ø¹Ù†Ø¯Ùƒ Ø³Ø± Ø®Ø·ÙŠØ±â€¦",
    map:{ "Ø¨Ø±Ø§Ù† Ø³ØªØ§Ø±Ùƒ":"Ø£Ø­ØªÙØ¸ Ø¨Ù‡ Ù„Ù„Ù…ØµÙ„Ø­Ø© Ø§Ù„Ø¹Ø§Ù…Ø©", "Ø¯ÙŠÙ†ÙŠØ±ÙŠØ³ ØªØ§Ø±Ø¬Ø§Ø±ÙŠÙ†":"Ø£Ø³ØªØ®Ø¯Ù…Ù‡ Ù„ØªØºÙŠÙŠØ± Ø§Ù„Ù…ÙˆØ§Ø²ÙŠÙ†",
          "Ø±Ø§Ù…Ø²ÙŠ Ø¨ÙˆÙ„ØªÙˆÙ†":"Ø£Ø¨ØªØ²Ù‘ Ø¨Ù‡ Ø§Ù„Ø¢Ø®Ø±ÙŠÙ†", "Ù†ÙŠØ¯ Ø³ØªØ§Ø±Ùƒ":"Ø£ÙˆØ§Ø¬Ù‡ Ø§Ù„Ø­Ù‚ÙŠÙ‚Ø© Ù…Ù‡Ù…Ø§ ÙƒØ§Ù†Øª" } },
  { q:"ØµÙØ© ØªÙ„Ø®ØµÙƒ Ø£ÙƒØ«Ø±:",
    map:{ "Ø¬ÙˆÙ† Ø³Ù†Ùˆ":"Ø§Ù„Ø´Ø¬Ø§Ø¹Ø©", "Ø¯ÙŠÙ†ÙŠØ±ÙŠØ³ ØªØ§Ø±Ø¬Ø§Ø±ÙŠÙ†":"Ø§Ù„Ø·Ù…ÙˆØ­",
          "ØªÙŠØ±ÙŠÙˆÙ† Ù„Ø§Ù†ÙŠØ³ØªØ±":"Ø§Ù„Ø°ÙƒØ§Ø¡", "Ø³Ø§Ù†Ø¯ÙˆØ± ÙƒÙ„ÙŠØ¬Ø§Ù† (Ø§Ù„ÙƒÙ„Ø¨)":"Ø§Ù„ØµÙ„Ø§Ø¨Ø©",
          "Ø³Ø§Ù…ÙˆÙŠÙ„ ØªØ§Ø±Ù„ÙŠ":"Ø§Ù„Ù…Ø«Ø§Ø¨Ø±Ø©" } }
];

/* ========= 4) Ø¨Ù†Ø§Ø¡ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ ========= */
const quiz = document.getElementById("quiz");
const bar  = document.getElementById("bar");
questions.forEach((item, idx)=>{
  const box = document.createElement("div");
  box.className="question";
  const title = document.createElement("div");
  title.className="qtitle";
  title.textContent = (idx+1)+". "+item.q;
  box.appendChild(title);
  Object.entries(item.map).forEach(([char,label])=>{
    const id = `q${idx}_${char}`;
    const wrap = document.createElement("label");
    wrap.innerHTML = `<input type="radio" name="q${idx}" id="${id}" value="${char}"> ${label}`;
    box.appendChild(wrap);
  });
  quiz.appendChild(box);
});

quiz.addEventListener("change",()=>{
  const answered = [...quiz.querySelectorAll('input[type="radio"]:checked')].length;
  bar.style.width = (answered/questions.length*100).toFixed(0)+"%";
});

/* ========= 5) Ø­Ø³Ø§Ø¨ Ø§Ù„Ù†ØªÙŠØ¬Ø© + Ø¹Ø±Ø¶ Ø§Ù„ØµÙˆØ±Ø© ÙˆØ§Ù„ÙˆØµÙ ========= */
document.getElementById("submitBtn").addEventListener("click", ()=>{
  const chosen = [...quiz.querySelectorAll('input[type="radio"]:checked')];
  if (chosen.length < questions.length){ alert("Ø¬Ø§ÙˆØ¨ Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø£ÙˆÙ„Ù‹Ø§ âœ…"); return; }

  // ØªØ¬Ù…ÙŠØ¹ Ø§Ù„Ù†Ù‚Ø§Ø·
  const score = {};
  chosen.forEach(inp => { score[inp.value] = (score[inp.value]||0) + 1; });

  // Ø§Ø®ØªÙŠØ§Ø± Ø£Ø¹Ù„Ù‰ Ø´Ø®ØµÙŠØ©
  let best = null, bestVal = -1;
  Object.entries(score).forEach(([k,v])=>{ if(v>bestVal){ best=k; bestVal=v; }});

  // ØªØ¬Ù‡ÙŠØ² Ø§Ù„ØµÙˆØ±Ø© (Ø±Ø§Ø¨Ø· Ø®Ø§Ø±Ø¬ÙŠ Ø¥Ù† ÙˆÙØ¬Ø¯ØŒ ÙˆØ¥Ù„Ø§ Ø£ÙØ§ØªØ§Ø± Ù…ÙˆÙ„Ù‘ÙØ¯)
  const imgSrc = images[best] || avatarDataURI(best);

  // ÙƒÙ„Ù…Ø§Øª ØªÙˆØµÙŠÙÙŠØ© Ù„Ø·ÙŠÙØ© (ØªØ¸Ù‡Ø± ÙƒØ´Ø±Ø§Ø¦Ø­)
  const tags = (characters[best]||"").split(/[,ØŒ]/).map(s=>s.trim()).filter(Boolean);

  // Ø¨Ù†Ø§Ø¡ Ø§Ù„Ù†ØªÙŠØ¬Ø©
  const res = document.getElementById("result");
  res.style.display="block";
  res.innerHTML = `
    <img class="hero" src="${imgSrc}" alt="${best}">
    <h2>Ø£Ù†Øª ØªØ´Ø¨Ù‡: ${best} ğŸ‘‘</h2>
    <p style="margin:6px 0 2px">${characters[best]||""}</p>
    <div class="chips">${tags.map(t=>`<span class="chip">${t}</span>`).join('')}</div>
    <div class="share">
      <button class="sbtn" onclick="shareResult('${best}')">Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„Ù†ØªÙŠØ¬Ø©</button>
      <button class="sbtn" onclick="window.scrollTo({top:0,behavior:'smooth'})">Ø£Ø¹Ø¯ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø©</button>
    </div>
  `;
});

// Ù…Ø´Ø§Ø±ÙƒØ© (ÙŠØ¯Ø¹Ù… Web Share API Ø¥Ù† Ù…ØªÙˆÙØ±)
function shareResult(name){
  const text = `Ù†ØªÙŠØ¬ØªÙŠ ÙÙŠ Ø§Ø®ØªØ¨Ø§Ø± Game of Thrones: Ø£Ù†Ø§ Ø£Ø´Ø¨Ù‡ ${name}! Ø¬Ø±Ù‘Ø¨ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± ğŸ‘‡`;
  if (navigator.share){
    navigator.share({title:"Ø§Ø®ØªØ¨Ø§Ø± Game of Thrones", text});
  } else {
    prompt("Ø§Ù†Ø³Ø® Ø§Ù„Ù†Øµ ÙˆØ´Ø§Ø±ÙƒÙ‡:", text);
  }
}
</script>
</body>
</html>
